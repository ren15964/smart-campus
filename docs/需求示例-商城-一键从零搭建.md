# 商城（电商后台+用户端）需求示例（复制给AI即可从零搭建）

## A. 项目一句话说明

- **项目名称**：轻量电商商城系统（含后台与用户端）
- **题材类型**：商城
- **核心目标**：实现“商品浏览下单 + 后台商品/订单管理 + 支付模拟”，适合毕设演示完整业务闭环。

## B. 默认技术选型

- **后端**：Spring Boot 2.7.x + Maven + MyBatis Plus + JWT
- **前端**：Vue 3 + Vite + Element Plus + Pinia + Axios + Vue Router
- **数据库**：MySQL 8.x
- **缓存/消息**：Redis（可选；用于购物车/库存热点可加分）
- **接口风格**：RESTful
- **部署方式**：本地运行即可

## C. 角色与权限

- **角色列表**：
  - 管理员：admin：类目/商品/库存/订单/用户/轮播图管理，发货，退款处理
  - 用户：浏览商品、加入购物车、下单、查看订单、申请退款（模拟）
- **权限粒度**：菜单级（必做）+ 按钮级（加分：如“发货/退款审核”）

## D. 功能模块清单

### D1. 必备基础模块

- 认证模块：注册（可选）/登录/退出/获取当前用户
- 用户中心：收货地址管理、修改密码
- 基础页面：用户端首页、商品详情、购物车、订单列表；后台 Layout

### D2. 业务模块

1) 类目管理（category，后台）
   - 页面：类目树/列表、新增/编辑/删除
   - 规则：类目可多级；删除需校验是否存在商品
2) 商品管理（product，后台+用户端）
   - 页面：商品列表（搜索/分页）、新增/编辑（含图片）、上下架
   - 规则：上架商品才能在用户端展示；价格为 decimal；库存不可为负
3) 购物车（cart，用户端）
   - 页面：购物车列表、数量调整、勾选结算
   - 规则：数量调整需校验库存；未登录不可结算
4) 订单（order，后台+用户端）
   - 页面：用户订单列表/详情；后台订单管理（筛选/发货/关闭）
   - 规则：订单状态流转：
     - `待支付 -> 已支付 -> 已发货 -> 已完成`
     - 取消：`待支付 -> 已取消`
     - 退款：`已支付/已发货 -> 退款中 -> 已退款/拒绝退款`
5) 轮播图/首页配置（banner，后台）
   - 页面：轮播图管理（上传图片、跳转链接）

### D3. 加分项（可选）

- 首页看板（ECharts）：近7日订单额、订单数、热销商品Top10
- Excel 导出：订单导出
- 文件上传：商品图、轮播图（本地 upload）

## E. 数据模型

### E1. 实体清单

- User：username, password(BCrypt), role_code, nickname, phone, status
- Address：user_id, receiver, phone, province, city, area, detail, is_default
- Category：parent_id, name, sort
- Product：category_id, title, sub_title, price, stock, cover_url, detail, status(on/off)
- CartItem：user_id, product_id, quantity, checked
- Order：order_no(唯一), user_id, status, total_amount, pay_amount, pay_time, receiver_xxx, remark
- OrderItem：order_id, product_id, title, price, quantity, amount
- Refund：order_id, user_id, reason, status, audit_msg, refund_amount
- Banner：title, image_url, link_url, sort, status
- Role / UserRole（可简化：role_code 放 User 里也可；但推荐保留扩展）

### E2. 关系

- User 1-N Address / Order / CartItem
- Category 1-N Product
- Order 1-N OrderItem
- Order 0-1 Refund

## F. UI/交互要求

- **整体风格**：用户端更“清新品牌化”（可做渐变/噪点质感）；后台清爽
- **页面形态（后台统一）**：搜索区 + 表格 + 分页 + 弹窗表单 + 删除确认 + loading
- **提示与异常**：库存不足提示；支付为“模拟支付成功”

## G. 接口与错误码约定

- Header：`Authorization: Bearer <token>`
- 统一返回：`{ code, msg, data }`
- 分页参数：`pageNum` `pageSize` `sortBy` `sortOrder`
- 语义：401/403/400/500

## H. 交付物清单

1) `database.sql`（含初始化：admin/admin123、user1/123456；示例类目与商品）
2) 后端：JWT、统一返回、异常、分页；商品/订单至少完整闭环
3) 前端：用户端（商品→购物车→下单→订单）+ 后台（商品/订单管理）
4) 文档：README + API接口文档（含订单状态说明）
5) 验收：用户下单→模拟支付→后台发货→用户确认收货

## I. AI 执行指令（强制）

请严格按流程自动实现，不要只给建议：

1. 输出目录树/文件清单
2. 生成 `database.sql`
3. 生成后端工程（订单状态流转要可用）
4. 生成前端工程（用户端+后台至少各 2 个页面）
5. 更新 `README.md` 与 `API接口文档.md`
6. 给 Windows PowerShell 启动命令
