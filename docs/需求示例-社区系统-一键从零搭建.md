# 社区系统（论坛/动态）需求示例（复制给AI即可从零搭建）

## A. 项目一句话说明
- **项目名称**：校园/兴趣社区平台（帖子+评论+点赞+关注）
- **题材类型**：社区
- **核心目标**：实现“内容发布与互动 + 审核与举报 + 话题标签”，适合展示权限、内容风控与互动数据统计。

## B. 默认技术选型
- **后端**：Spring Boot 2.7.x + Maven + MyBatis Plus + JWT
- **前端**：Vue 3 + Vite + Element Plus + Pinia + Axios + Vue Router
- **数据库**：MySQL 8.x
- **缓存/消息**：Redis（可选；用于点赞/热门排行可加分）
- **接口风格**：RESTful
- **部署方式**：本地运行即可

## C. 角色与权限
- **角色列表**：
  - 管理员：admin：板块/标签管理、内容审核、举报处理、封禁用户、统计看板
  - 普通用户：发帖、评论、点赞、收藏、关注、举报
  - 版主（可选）：负责某板块的内容审核（加分）
- **权限粒度**：菜单级（必做）+ 审核/封禁按钮权限（加分）

## D. 功能模块清单
### D1. 基础模块
- JWT 登录/退出/当前用户
- 用户中心：头像/昵称/签名、修改密码
- 管理端 Layout + 用户端社区首页

### D2. 业务模块
1) 板块/话题（board、tag）
   - 页面：板块管理（后台）、标签管理（后台）、用户端按板块/标签筛选
   - 规则：帖子必须归属一个板块，可选多个标签
2) 帖子（post）
   - 页面：帖子列表（推荐/最新/热门）、发帖、帖子详情
   - 规则：
     - 发帖支持富文本（简单 textarea 也可）+ 图片上传（可选）
     - 帖子状态：草稿/待审/已发布/已下架
3) 评论（comment）
   - 页面：帖子详情评论区（支持楼中楼可选）
   - 规则：评论支持删除（作者可删自己的；管理员可删任何）
4) 互动（like、favorite、follow）
   - 页面：点赞/收藏按钮、关注用户、我的收藏/我的关注
   - 规则：点赞/收藏不可重复；取消需幂等
5) 举报与审核（report、audit）
   - 页面：举报入口；后台举报列表、处理（通过/驳回/下架/封禁）
   - 规则：同一用户对同一帖子重复举报需要去重或提示

### D3. 加分项（可选）
- 热门排行：按点赞/评论数统计（可用 Redis/或 DB 聚合）
- 首页看板（ECharts）：日发帖数、活跃用户数、热门标签Top10

## E. 数据模型
### E1. 实体清单
- User：username, password(BCrypt), role_code, nickname, avatar_url, bio, status(normal/banned)
- Board：name, description, sort, status
- Tag：name(唯一), description, status
- Post：user_id, board_id, title, content, status(draft/pending/published/off), view_count, like_count, comment_count
- PostTag：post_id, tag_id
- Comment：post_id, user_id, parent_id(可选), content, status
- Like：user_id, target_type(post/comment), target_id
- Favorite：user_id, post_id
- Follow：follower_id, following_id
- Report：reporter_id, target_type, target_id, reason, status(pending/processed), result
- AuditLog：admin_id, action, target_type, target_id, remark

### E2. 关系
- User 1-N Post/Comment/Report
- Board 1-N Post
- Post N-M Tag（PostTag）
- Post 1-N Comment

## F. UI/交互要求
- **整体风格**：内容型社区（信息流 + 卡片），用户端更有设计感；后台清爽
- **列表页**：支持关键字搜索、按板块/标签筛选、分页或无限滚动（二选一）
- **交互**：点赞/收藏/关注要有即时反馈（乐观更新可选）

## G. 接口与错误码约定
- Header：`Authorization: Bearer <token>`
- 统一返回：`{ code, msg, data }`
- 关键约定：
  - 点赞/收藏接口需幂等（重复操作不报错或返回明确提示）
  - 403：被封禁用户禁止发帖/评论

## H. 交付物清单
1) `database.sql`（含初始化：admin/admin123、user1/123456；示例板块/标签/帖子）
2) 后端：帖子/评论/互动/审核至少完整闭环
3) 前端：用户端（信息流+发帖+详情评论）+ 后台（审核/板块/标签/用户封禁）
4) 文档：README + API接口文档（含状态与幂等说明）
5) 验收：用户发帖→待审→管理员审核发布→点赞评论→举报→处理下架

## I. AI 执行指令（强制）
1. 输出目录树/文件清单
2. 生成 `database.sql`（含必要索引：board_id、tag、post_id、like 唯一约束等）
3. 生成后端（状态流转+幂等）
4. 生成前端（用户端+后台）
5. 更新 README 与 API 文档
6. 给 Windows PowerShell 启动命令

