import{_ as D,s as E,c as R,b as n,a as e,w as a,E as m,r as o,g as v,h as V,z as C,o as k,f as B}from"./index-CWfbs8s0.js";const F={class:"admin-grade-statistics"},G={class:"statistics-display"},N={__name:"GradeStatistics",setup(T){const r=v({semester:null}),s=v({averageScore:0,passRate:0,excellentRate:0,totalStudents:0}),_=V([]),f=l=>new Promise(t=>{setTimeout(()=>{console.log("模拟获取全校成绩统计:",l),t({code:200,data:{averageScore:78.5,passRate:.85,excellentRate:.25,totalStudents:1200,scoreDistribution:[{name:"0-59",value:150},{name:"60-69",value:300},{name:"70-79",value:400},{name:"80-89",value:250},{name:"90-100",value:100}]}})},800)}),u=async()=>{try{const l=await f(r);l.code===200?(Object.assign(s,l.data),_.value=l.data.scoreDistribution,b()):m.error(l.msg||"获取统计数据失败")}catch{m.error("网络错误或服务器异常")}},b=()=>{C(()=>{document.getElementById("score-distribution-chart")&&(console.log("Echarts 模拟渲染成功",_.value),m.info("图表已模拟渲染，请自行集成 Echarts 库以显示实际图表。"))})};return E(()=>{u()}),(l,t)=>{const d=o("el-option"),g=o("el-select"),p=o("el-form-item"),x=o("el-button"),S=o("el-form"),i=o("el-statistic"),c=o("el-col"),h=o("el-row"),y=o("el-card");return k(),R("div",F,[t[5]||(t[5]=n("h2",null,"全校成绩统计",-1)),e(y,null,{default:a(()=>[e(S,{inline:!0,model:r,class:"query-form"},{default:a(()=>[e(p,{label:"学期"},{default:a(()=>[e(g,{modelValue:r.semester,"onUpdate:modelValue":t[0]||(t[0]=w=>r.semester=w),placeholder:"请选择学期",clearable:"",onChange:u},{default:a(()=>[e(d,{label:"2023-2024-1",value:"2023-2024-1"}),e(d,{label:"2023-2024-2",value:"2023-2024-2"}),e(d,{label:"2024-2025-1",value:"2024-2025-1"})]),_:1},8,["modelValue"])]),_:1}),e(p,null,{default:a(()=>[e(x,{type:"primary",onClick:u},{default:a(()=>[...t[1]||(t[1]=[B("查询",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),n("div",G,[t[2]||(t[2]=n("h3",null,"统计概览",-1)),e(h,{gutter:20},{default:a(()=>[e(c,{span:6},{default:a(()=>[e(i,{title:"总平均分",value:s.averageScore.toFixed(2)},null,8,["value"])]),_:1}),e(c,{span:6},{default:a(()=>[e(i,{title:"及格率",value:(s.passRate*100).toFixed(2)+"%"},null,8,["value"])]),_:1}),e(c,{span:6},{default:a(()=>[e(i,{title:"优秀率",value:(s.excellentRate*100).toFixed(2)+"%"},null,8,["value"])]),_:1}),e(c,{span:6},{default:a(()=>[e(i,{title:"总学生数",value:s.totalStudents},null,8,["value"])]),_:1})]),_:1}),t[3]||(t[3]=n("h3",{style:{"margin-top":"20px"}},"成绩分布",-1)),t[4]||(t[4]=n("div",{id:"score-distribution-chart",style:{width:"100%",height:"300px"}},null,-1))])]),_:1})])}}},I=D(N,[["__scopeId","data-v-4c6bbb89"]]);export{I as default};
