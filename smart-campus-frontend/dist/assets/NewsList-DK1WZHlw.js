import{_ as $,s as q,c as u,a as n,w as o,r as c,h as i,d as F,o as s,b as l,G as b,H as C,I as v,e as G,f as P,t as d,j as L,k as V}from"./index-CWfbs8s0.js";import{A as Q}from"./AppEmpty-B1CMOFz1.js";const R={class:"news-list-container"},J={class:"filter-section"},O={class:"news-items"},W={class:"news-item-content"},X={class:"news-meta"},Y={class:"category-tag"},Z={class:"publish-date"},ee={class:"news-summary"},te={class:"hot-news-list"},ae=["onClick"],le={__name:"NewsList",setup(oe){const z=F(),h=i([]),w=i([]),k=i([]),p=i(null),m=i(""),_=i(1),g=i(10),r=()=>{h.value=[{id:1,title:"校园招聘会通知",categoryId:1,categoryName:"通知",publishDate:"2026-02-01",content:"详细内容1..."},{id:2,title:"图书馆闭馆公告",categoryId:2,categoryName:"公告",publishDate:"2026-02-05",content:"详细内容2..."},{id:3,title:"最新学术讲座预告",categoryId:3,categoryName:"讲座",publishDate:"2026-02-08",content:"详细内容3..."},{id:4,title:"春季运动会报名",categoryId:4,categoryName:"活动",publishDate:"2026-01-28",content:"详细内容4..."},{id:5,title:"学生会招新通知",categoryId:1,categoryName:"通知",publishDate:"2026-01-20",content:"详细内容5..."},{id:6,title:"关于寒假放假通知",categoryId:2,categoryName:"公告",publishDate:"2026-01-15",content:"详细内容6..."},{id:7,title:"软件工程前沿技术讲座",categoryId:3,categoryName:"讲座",publishDate:"2026-02-10",content:"详细内容7..."},{id:8,title:"英语角活动预告",categoryId:4,categoryName:"活动",publishDate:"2026-02-09",content:"详细内容8..."},{id:9,title:"校医院调整作息时间",categoryId:2,categoryName:"公告",publishDate:"2026-02-07",content:"详细内容9..."},{id:10,title:"ACM编程大赛通知",categoryId:1,categoryName:"通知",publishDate:"2026-02-03",content:"详细内容10..."}]},B=()=>{w.value=[{id:1,name:"通知"},{id:2,name:"公告"},{id:3,name:"讲座"},{id:4,name:"活动"}]},S=()=>{k.value=h.value.slice(0,5)},y=V(()=>{let a=h.value;if(p.value&&(a=a.filter(t=>t.categoryId===p.value)),m.value){const t=m.value.toLowerCase();a=a.filter(f=>f.title.toLowerCase().includes(t))}return a}),D=V(()=>{const a=(_.value-1)*g.value,t=a+g.value;return y.value.slice(a,t)}),A=a=>{g.value=a,_.value=1},j=a=>{_.value=a},I=a=>{z.push({name:"NewsDetail",params:{id:a}})};return q(()=>{B(),r(),S()}),(a,t)=>{const f=c("el-option"),E=c("el-select"),H=c("el-input"),K=c("el-button"),N=c("el-card"),M=c("el-pagination"),x=c("el-col"),T=c("el-row");return s(),u("div",R,[n(N,{class:"box-card"},{header:o(()=>[...t[2]||(t[2]=[l("div",{class:"card-header"},[l("span",null,"校园新闻")],-1)])]),default:o(()=>[l("div",J,[n(E,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),placeholder:"选择分类",clearable:"",onChange:r},{default:o(()=>[(s(!0),u(b,null,C(w.value,e=>(s(),v(f,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),n(H,{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),placeholder:"搜索新闻标题",clearable:"",onClear:r,onKeyup:G(r,["enter"]),style:{width:"200px","margin-left":"10px"}},null,8,["modelValue"]),n(K,{type:"primary",style:{"margin-left":"10px"},onClick:r},{default:o(()=>[...t[3]||(t[3]=[P("搜索",-1)])]),_:1})]),n(T,{gutter:20},{default:o(()=>[n(x,{span:18},{default:o(()=>[l("div",O,[(s(!0),u(b,null,C(D.value,e=>(s(),v(N,{key:e.id,class:"news-item-card",shadow:"hover",onClick:U=>I(e.id)},{default:o(()=>[l("div",W,[l("h3",null,d(e.title),1),l("div",X,[l("span",Y,d(e.categoryName),1),l("span",Z,d(e.publishDate),1)]),l("p",ee,d(e.content.substring(0,100))+"...",1)])]),_:2},1032,["onClick"]))),128)),D.value.length===0?(s(),v(Q,{key:0,description:"暂无新闻"})):L("",!0)]),y.value.length>0?(s(),v(M,{key:0,onSizeChange:A,onCurrentChange:j,"current-page":_.value,"page-sizes":[5,10,15,20],"page-size":g.value,layout:"total, sizes, prev, pager, next, jumper",total:y.value.length},null,8,["current-page","page-size","total"])):L("",!0)]),_:1}),n(x,{span:6},{default:o(()=>[n(N,{class:"hot-news-card"},{header:o(()=>[...t[4]||(t[4]=[l("div",{class:"card-header"},[l("span",null,"热门新闻")],-1)])]),default:o(()=>[l("ul",te,[(s(!0),u(b,null,C(k.value,e=>(s(),u("li",{key:e.id,onClick:U=>I(e.id)},d(e.title),9,ae))),128))])]),_:1})]),_:1})]),_:1})]),_:1})])}}},ce=$(le,[["__scopeId","data-v-c77af29a"]]);export{ce as default};
