import{_ as k,s as x,c as y,a as e,w as o,i as N,E as i,r as s,h as l,d as C,S as B,o as _,U as I,I as D,b as p,t as E,f as V}from"./index-CWfbs8s0.js";import{a as L}from"./grade-DO4JpUgO.js";const M={class:"course-students-container"},R={class:"card-header"},G={__name:"CourseStudents",setup(T){const m=N(),f=C(),c=m.params.scheduleId,n=l("未知课程"),d=l([]),r=l(!1),h=async()=>{if(!c){i.error("缺少开课计划ID");return}r.value=!0;try{const t=await L(c);t.code===200&&(d.value=t.data,t.data.length>0&&(n.value=t.data[0].courseName||"未知课程"))}catch(t){console.error("获取学生名单失败:",t),i.error("获取学生名单失败，请稍后再试")}finally{r.value=!1}},b=()=>{f.back()};return x(()=>{h()}),(t,u)=>{const v=s("el-button"),a=s("el-table-column"),w=s("el-table"),S=s("el-card"),g=B("loading");return _(),y("div",M,[e(S,{class:"box-card"},{header:o(()=>[p("div",R,[p("span",null,E(n.value)+" 学生名单",1),e(v,{type:"primary",link:"",onClick:b},{default:o(()=>[...u[0]||(u[0]=[V("返回",-1)])]),_:1})])]),default:o(()=>[I((_(),D(w,{data:d.value,border:"",style:{width:"100%"}},{default:o(()=>[e(a,{prop:"studentNo",label:"学号",width:"120"}),e(a,{prop:"studentName",label:"姓名",width:"120"}),e(a,{prop:"usualScore",label:"平时成绩",width:"100"}),e(a,{prop:"examScore",label:"期末成绩",width:"100"}),e(a,{prop:"totalScore",label:"总成绩",width:"100"}),e(a,{prop:"gpa",label:"绩点",width:"80"})]),_:1},8,["data"])),[[g,r.value]])]),_:1})])}}},q=k(G,[["__scopeId","data-v-baa23cff"]]);export{q as default};
