import{_ as T,s as A,c as R,a as e,w as o,E as j,r as n,h as b,g as h,d as F,S as P,o as k,f as u,U as $,I as q,t as y,b as f}from"./index-CWfbs8s0.js";import{g as G}from"./homework-CyJgRgDB.js";import{A as J}from"./AppEmpty-B1CMOFz1.js";const K={class:"homework-list-container"},O={class:"pagination-container"},Q={__name:"HomeworkList",setup(W){const v=F(),w=b([]),p=b(!1),s=h({keyword:"",status:null}),r=h({current:1,size:10,total:0}),d=async()=>{p.value=!0;try{const a=await G({current:r.current,size:r.size,...s});a.code===200&&(w.value=a.data,r.total=a.data.length)}catch(a){console.error("获取作业列表失败:",a),j.error("获取作业列表失败，请稍后再试")}finally{p.value=!1}},z=()=>{r.current=1,d()},g=()=>{s.keyword="",s.status=null,r.current=1,d()},C=a=>{r.size=a,d()},S=a=>{r.current=a,d()},V=a=>{switch(a){case 0:return"未提交";case 1:return"已提交";case 2:return"已批改";default:return"未知"}},x=a=>{switch(a){case 0:return"danger";case 1:return"warning";case 2:return"success";default:return"info"}},D=a=>{v.push({name:"HomeworkSubmit",params:{id:a.homeworkId}})};return A(()=>{d()}),(a,t)=>{const H=n("el-input"),m=n("el-form-item"),_=n("el-option"),I=n("el-select"),c=n("el-button"),N=n("el-form"),i=n("el-table-column"),U=n("el-tag"),B=n("el-table"),E=n("el-pagination"),L=n("el-card"),M=P("loading");return k(),R("div",K,[e(L,{class:"box-card"},{header:o(()=>[...t[4]||(t[4]=[f("div",{class:"card-header"},[f("span",null,"我的作业")],-1)])]),default:o(()=>[e(N,{inline:!0,model:s,class:"search-form"},{default:o(()=>[e(m,{label:"课程名称"},{default:o(()=>[e(H,{modelValue:s.keyword,"onUpdate:modelValue":t[0]||(t[0]=l=>s.keyword=l),placeholder:"请输入课程名称",clearable:""},null,8,["modelValue"])]),_:1}),e(m,{label:"状态"},{default:o(()=>[e(I,{modelValue:s.status,"onUpdate:modelValue":t[1]||(t[1]=l=>s.status=l),placeholder:"请选择状态",clearable:""},{default:o(()=>[e(_,{label:"未提交",value:0}),e(_,{label:"已提交",value:1}),e(_,{label:"已批改",value:2})]),_:1},8,["modelValue"])]),_:1}),e(m,null,{default:o(()=>[e(c,{type:"primary",onClick:z},{default:o(()=>[...t[5]||(t[5]=[u("查询",-1)])]),_:1}),e(c,{onClick:g},{default:o(()=>[...t[6]||(t[6]=[u("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),$((k(),q(B,{data:w.value,border:"",style:{width:"100%"}},{empty:o(()=>[e(J,{description:"暂无作业"},{default:o(()=>[e(c,{type:"primary",onClick:g},{default:o(()=>[...t[7]||(t[7]=[u("清空筛选",-1)])]),_:1})]),_:1})]),default:o(()=>[e(i,{prop:"homeworkId",label:"ID",width:"80"}),e(i,{prop:"courseName",label:"课程名称",width:"150"}),e(i,{prop:"title",label:"作业标题","show-overflow-tooltip":""}),e(i,{prop:"teacherName",label:"发布教师",width:"120"}),e(i,{prop:"deadline",label:"截止日期",width:"180"}),e(i,{label:"提交状态",width:"100"},{default:o(l=>[e(U,{type:x(l.row.submitStatus)},{default:o(()=>[u(y(V(l.row.submitStatus)),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"score",label:"分数",width:"80"},{default:o(l=>[u(y(l.row.score===null?"-":l.row.score),1)]),_:1}),e(i,{label:"操作",width:"100"},{default:o(l=>[e(c,{type:"primary",link:"",onClick:X=>D(l.row)},{default:o(()=>[...t[8]||(t[8]=[u(" 查看/提交 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[M,p.value]]),f("div",O,[e(E,{"current-page":r.current,"onUpdate:currentPage":t[2]||(t[2]=l=>r.current=l),"page-size":r.size,"onUpdate:pageSize":t[3]||(t[3]=l=>r.size=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:r.total,onSizeChange:C,onCurrentChange:S},null,8,["current-page","page-size","total"])])]),_:1})])}}},te=T(Q,[["__scopeId","data-v-60e77218"]]);export{te as default};
